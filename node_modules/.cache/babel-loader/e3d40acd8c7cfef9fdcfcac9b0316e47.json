{"ast":null,"code":"var _jsxFileName = \"D:\\\\react-basic-master\\\\src\\\\pages\\\\views\\\\Admin\\\\Add\\\\index.js\";\nimport React, { useState, useEffect } from 'react';\nimport PropTypes from 'prop-types';\nimport Axios from 'axios';\nimport { useForm } from \"react-hook-form\";\nimport firebase from '../../../../firebase';\n\nconst Add = ({\n  onAdd\n}) => {\n  const {\n    register,\n    handleSubmit,\n    errors\n  } = useForm();\n  const [newData, setNewData] = useState([]);\n\n  const Them = data => {\n    console.log(data.image[0]);\n    let file = data.image[0];\n    let storageRef = firebase.storage().ref(`images/${file.name}`);\n    storageRef.put(file).then(function () {\n      storageRef.getDownloadURL().then(url => {\n        console.log(url); // Tạo object mới chứa toàn bộ thông tin từ input\n\n        const DB = {\n          id: Math.random().toString(36).substr(2, 9),\n          ...data,\n          image: url\n        };\n        setNewData(DB);\n        Axios.post(\"https://5ea1c7f7b9f5ca00166c2226.mockapi.io/conga/sanpham\", newData);\n      });\n    });\n  };\n\n  const [loai, setLoai] = useState([]);\n  useEffect(() => {\n    const fetchLoai = async () => {\n      const res = await Axios.get('https://5ea1c7f7b9f5ca00166c2226.mockapi.io/conga/loai');\n      setLoai(res.data);\n    };\n\n    fetchLoai();\n  }, []);\n  return /*#__PURE__*/React.createElement(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 40,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"content-wrapper\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 41,\n      columnNumber: 1\n    }\n  }, /*#__PURE__*/React.createElement(\"section\", {\n    className: \"content\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 44,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 45,\n      columnNumber: 13\n    }\n  }, \"Th\\xEAm s\\u1EA3n ph\\u1EA9m\"), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"box row\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 46,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"col-md-6\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 47,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(\"form\", {\n    onSubmit: handleSubmit(Them),\n    encType: \"multipart/form-data\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 48,\n      columnNumber: 15\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"form-group\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 49,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(\"label\", {\n    htmlFor: \"name\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 50,\n      columnNumber: 19\n    }\n  }, \"name\"), /*#__PURE__*/React.createElement(\"input\", {\n    id: \"name\",\n    type: \"text\",\n    name: \"name\",\n    placeholder: \"Nh\\u1EADp t\\xEAn \",\n    className: \"form-control\",\n    ref: register({\n      required: true,\n      minLength: 4,\n      maxLength: 10\n    }),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 51,\n      columnNumber: 19\n    }\n  }), errors.name && errors.name.type === \"required\" && /*#__PURE__*/React.createElement(\"div\", {\n    style: {\n      color: 'red'\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 52,\n      columnNumber: 68\n    }\n  }, \"t\\xEAn kh\\xF4ng \\u0111\\u01B0\\u1EE3c \\u0111\\u1EC3 tr\\u1ED1ng \"), errors.name && errors.name.type === \"minLength\" && /*#__PURE__*/React.createElement(\"div\", {\n    style: {\n      color: 'red'\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 53,\n      columnNumber: 68\n    }\n  }, \"t\\xEAn \\xEDt nh\\u1EA5t 4 k\\xFD t\\u1EF1 \")), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"form-group\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 55,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(\"label\", {\n    htmlFor: \"short_detail\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 56,\n      columnNumber: 19\n    }\n  }, \"image\"), /*#__PURE__*/React.createElement(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 57,\n      columnNumber: 19\n    }\n  }, /*#__PURE__*/React.createElement(\"input\", {\n    className: \"form-control\",\n    type: \"file\",\n    id: \"image\",\n    placeholder: \"Nh\\u1EADp \\u1EA3nh\",\n    name: \"image\",\n    ref: register({\n      required: true\n    }),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 59,\n      columnNumber: 21\n    }\n  }), errors.image && /*#__PURE__*/React.createElement(\"div\", {\n    style: {\n      color: 'red'\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 60,\n      columnNumber: 38\n    }\n  }, \"B\\u1EA1n ch\\u01B0a nh\\u1EADp \\u1EA3nh \"))), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"form-group\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 64,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(\"label\", {\n    htmlFor: \"short_detail\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 65,\n      columnNumber: 19\n    }\n  }, \"price\"), /*#__PURE__*/React.createElement(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 66,\n      columnNumber: 19\n    }\n  }, /*#__PURE__*/React.createElement(\"input\", {\n    className: \"form-control\",\n    id: \"price\",\n    placeholder: \"Nh\\u1EADp gi\\xE1\",\n    name: \"price\",\n    ref: register({\n      required: true,\n      min: 0,\n      pattern: /^[+-]?((\\d+(\\.\\d*)?)|(\\.\\d+))$/\n    }),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 67,\n      columnNumber: 21\n    }\n  }), errors.price && errors.price.type === \"required\" && /*#__PURE__*/React.createElement(\"div\", {\n    style: {\n      color: 'red'\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 68,\n      columnNumber: 67\n    }\n  }, \"ch\\u01B0a nh\\u1EADp gi\\xE1  \"), errors.price && errors.price.type === \"pattern\" && /*#__PURE__*/React.createElement(\"div\", {\n    style: {\n      color: 'red'\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 69,\n      columnNumber: 66\n    }\n  }, \"ch\\u1EC9 nh\\u1EADp s\\u1ED1 \"))), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"form-group\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 73,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(\"label\", {\n    htmlFor: \"short_detail\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 74,\n      columnNumber: 19\n    }\n  }, \"sale_price\"), /*#__PURE__*/React.createElement(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 75,\n      columnNumber: 19\n    }\n  }, /*#__PURE__*/React.createElement(\"input\", {\n    className: \"form-control\",\n    id: \"sale_price\",\n    placeholder: \"Nh\\u1EADp gi\\xE1 gi\\u1EA3m\",\n    name: \"sale_price\",\n    ref: register({\n      required: true,\n      pattern: /^[+-]?((\\d+(\\.\\d*)?)|(\\.\\d+))$/\n    }),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 76,\n      columnNumber: 21\n    }\n  }), errors.sale_price && errors.sale_price.type === \"required\" && /*#__PURE__*/React.createElement(\"div\", {\n    style: {\n      color: 'red'\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 77,\n      columnNumber: 83\n    }\n  }, \"ch\\u01B0a nh\\u1EADp gi\\xE1 gi\\u1EA3m  \"), errors.sale_price && errors.sale_price.type === \"pattern\" && /*#__PURE__*/React.createElement(\"div\", {\n    style: {\n      color: 'red'\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 78,\n      columnNumber: 80\n    }\n  }, \"gi\\xE1 gi\\u1EA3m ph\\u1EA3i l\\xE0 s\\u1ED1 \"))), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"form-group\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 81,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(\"label\", {\n    htmlFor: \"short_detail\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 82,\n      columnNumber: 19\n    }\n  }, \"desc\"), /*#__PURE__*/React.createElement(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 83,\n      columnNumber: 19\n    }\n  }, /*#__PURE__*/React.createElement(\"input\", {\n    type: \"password\",\n    className: \"form-control\",\n    id: \"desc\",\n    placeholder: \"nh\\u1EADp m\\xF4 t\\u1EA3\",\n    name: \"desc\",\n    ref: register({\n      required: true,\n      minLength: 5\n    }),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 84,\n      columnNumber: 21\n    }\n  }), errors.desc && errors.desc.type === \"required\" && /*#__PURE__*/React.createElement(\"div\", {\n    style: {\n      color: 'red'\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 85,\n      columnNumber: 71\n    }\n  }, \"ch\\u01B0a nh\\u1EADp m\\xF4 t\\u1EA3\"), errors.desc && errors.desc.type === \"minLength\" && /*#__PURE__*/React.createElement(\"div\", {\n    style: {\n      color: 'red'\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 86,\n      columnNumber: 72\n    }\n  }, \"\\xEDt nh\\u1EA5t ph\\u1EA3i l\\xE0 5 k\\xFD t\\u1EF1\"))), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"form-group\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 91,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(\"label\", {\n    htmlFor: \"short_detail\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 92,\n      columnNumber: 19\n    }\n  }, \"title\"), /*#__PURE__*/React.createElement(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 93,\n      columnNumber: 19\n    }\n  }, /*#__PURE__*/React.createElement(\"input\", {\n    type: \"password\",\n    className: \"form-control\",\n    id: \"title\",\n    placeholder: \"nh\\u1EADp title\",\n    name: \"title\",\n    ref: register({\n      required: true,\n      minLength: 5\n    }),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 94,\n      columnNumber: 21\n    }\n  }), errors.title && errors.title.type === \"required\" && /*#__PURE__*/React.createElement(\"div\", {\n    style: {\n      color: 'red'\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 95,\n      columnNumber: 73\n    }\n  }, \"ch\\u01B0a nh\\u1EADp title\"), errors.title && errors.title.type === \"minLength\" && /*#__PURE__*/React.createElement(\"div\", {\n    style: {\n      color: 'red'\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 96,\n      columnNumber: 74\n    }\n  }, \"\\xEDt nh\\u1EA5t ph\\u1EA3i l\\xE0 5 k\\xFD t\\u1EF1\"))), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"form-group\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 99,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(\"label\", {\n    htmlFor: \"exampleInputPassword1\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 100,\n      columnNumber: 21\n    }\n  }, \"cate\"), /*#__PURE__*/React.createElement(\"select\", {\n    name: \"id_loai\",\n    className: \"form-control input-sm m-bot15\",\n    ref: register({\n      min: 1\n    }),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 101,\n      columnNumber: 24\n    }\n  }, /*#__PURE__*/React.createElement(\"option\", {\n    selected: \"true\",\n    value: \"0\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 104,\n      columnNumber: 26\n    }\n  }, \"ch\\u1ECDn\"), loai.map(m => /*#__PURE__*/React.createElement(\"option\", {\n    value: m.id,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 105,\n      columnNumber: 40\n    }\n  }, m.name)))), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"text-center\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 109,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(\"button\", {\n    type: \"submit\",\n    className: \"btn btn-sm btn-primary\",\n    name: \"submit\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 110,\n      columnNumber: 19\n    }\n  }, \"L\\u01B0u\"), /*#__PURE__*/React.createElement(\"button\", {\n    type: \"reset\",\n    value: \"Reset\",\n    className: \"btn btn-sm btn-primary\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 111,\n      columnNumber: 19\n    }\n  }, \"H\\u1EE7y\"))))))), \"        \");\n};\n\nexport default Add;","map":{"version":3,"sources":["D:/react-basic-master/src/pages/views/Admin/Add/index.js"],"names":["React","useState","useEffect","PropTypes","Axios","useForm","firebase","Add","onAdd","register","handleSubmit","errors","newData","setNewData","Them","data","console","log","image","file","storageRef","storage","ref","name","put","then","getDownloadURL","url","DB","id","Math","random","toString","substr","post","loai","setLoai","fetchLoai","res","get","required","minLength","maxLength","type","color","min","pattern","price","sale_price","desc","title","map","m"],"mappings":"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","sourcesContent":["import React,{useState,useEffect} from 'react'\r\nimport PropTypes from 'prop-types'\r\nimport Axios from 'axios'\r\nimport { useForm } from \"react-hook-form\";\r\nimport firebase from '../../../../firebase';\r\nconst Add = ({onAdd}) => {\r\n  \r\n  const {register, handleSubmit, errors}=useForm();\r\n  const[newData, setNewData]=useState([]);\r\n\r\n  const Them = (data) => {\r\n    console.log(data.image[0]);\r\n    let file=data.image[0]\r\n    let storageRef = firebase.storage().ref(`images/${file.name}`);\r\n    storageRef.put(file).then(function () {\r\n      storageRef.getDownloadURL().then((url) => {\r\n          console.log(url);\r\n          // Tạo object mới chứa toàn bộ thông tin từ input\r\n          const DB = {\r\n              id: Math.random().toString(36).substr(2, 9),\r\n              ...data,\r\n              image: url\r\n          }\r\n          setNewData(DB);\r\n          Axios.post(\"https://5ea1c7f7b9f5ca00166c2226.mockapi.io/conga/sanpham\",newData);\r\n  })\r\n})\r\n}\r\n\r\n  const[loai,setLoai]=useState([]);\r\n  useEffect(() => {\r\n    const fetchLoai= async()=>{\r\n       const res= await Axios.get('https://5ea1c7f7b9f5ca00166c2226.mockapi.io/conga/loai')\r\n          setLoai(res.data);\r\n  \r\n        };\r\n        fetchLoai();\r\n      },[])\r\n  return (\r\n        <div>\r\n<div className=\"content-wrapper\">\r\n        {/* Content Header (Page header) */}\r\n        {/* Main content */}\r\n        <section className=\"content\">\r\n            <div>Thêm sản phẩm</div>\r\n          <div className=\"box row\">\r\n            <div className=\"col-md-6\">\r\n              <form onSubmit={handleSubmit(Them)} encType=\"multipart/form-data\">\r\n                <div className=\"form-group\">\r\n                  <label htmlFor=\"name\">name</label>\r\n                  <input id=\"name\" type=\"text\" name=\"name\" placeholder=\"Nhập tên \" className=\"form-control\"  ref={register({required:true, minLength:4,maxLength:10})} />\r\n                {errors.name && errors.name.type=== \"required\" && (<div style={{color: 'red'}}>tên không được để trống </div>)}\r\n                {errors.name && errors.name.type===\"minLength\" && (<div style={{color: 'red'}} >tên ít nhất 4 ký tự </div>)}\r\n                </div>\r\n                <div className=\"form-group\">\r\n                  <label htmlFor=\"short_detail\">image</label>\r\n                  <div>\r\n                    \r\n                    <input className=\"form-control\"type=\"file\" id=\"image\" placeholder=\"Nhập ảnh\" name=\"image\" ref={register({required:true})} />\r\n                    {errors.image && <div style={{color: 'red'}} >Bạn chưa nhập ảnh </div>}\r\n\r\n                  </div>\r\n                </div>\r\n                <div className=\"form-group\">\r\n                  <label htmlFor=\"short_detail\">price</label>\r\n                  <div>\r\n                    <input className=\"form-control\" id=\"price\" placeholder=\"Nhập giá\" name=\"price\" ref={register({required:true,min:0,pattern:/^[+-]?((\\d+(\\.\\d*)?)|(\\.\\d+))$/})} />\r\n                {errors.price && errors.price.type===\"required\"&&(<div style={{color: 'red'}}>chưa nhập giá  </div>)}\r\n                {errors.price && errors.price.type===\"pattern\"&&(<div style={{color: 'red'}}>chỉ nhập số </div>)}\r\n\r\n                  </div>\r\n                </div>\r\n                <div className=\"form-group\">\r\n                  <label htmlFor=\"short_detail\">sale_price</label>\r\n                  <div>\r\n                    <input className=\"form-control\" id=\"sale_price\" placeholder=\"Nhập giá giảm\" name=\"sale_price\"  ref={register({required:true, pattern:/^[+-]?((\\d+(\\.\\d*)?)|(\\.\\d+))$/})} />\r\n                    {errors.sale_price && errors.sale_price.type===\"required\" && (<div style={{color: 'red'}}>chưa nhập giá giảm  </div>)}\r\n                    {errors.sale_price && errors.sale_price.type===\"pattern\"&&(<div style={{color: 'red'}} >giá giảm phải là số </div>)}\r\n                  </div>\r\n                </div>\r\n                <div className=\"form-group\">\r\n                  <label htmlFor=\"short_detail\">desc</label>\r\n                  <div>\r\n                    <input type=\"password\" className=\"form-control\" id=\"desc\" placeholder=\"nhập mô tả\" name=\"desc\" ref={register({required:true,minLength:5})} />\r\n                    {errors.desc && errors.desc.type===\"required\" && (<div style={{color: 'red'}} >chưa nhập mô tả</div>)}\r\n                    {errors.desc && errors.desc.type===\"minLength\" && (<div style={{color: 'red'}} >ít nhất phải là 5 ký tự</div>)}\r\n\r\n\r\n                  </div>   \r\n                </div>\r\n                <div className=\"form-group\">\r\n                  <label htmlFor=\"short_detail\">title</label>\r\n                  <div>\r\n                    <input type=\"password\" className=\"form-control\" id=\"title\" placeholder=\"nhập title\" name=\"title\" ref={register({required:true,minLength:5})}  />\r\n                    {errors.title && errors.title.type===\"required\" && (<div style={{color: 'red'}} >chưa nhập title</div>)}\r\n                    {errors.title && errors.title.type===\"minLength\" && (<div style={{color: 'red'}} >ít nhất phải là 5 ký tự</div>)}\r\n                  </div>\r\n                </div>\r\n                <div className=\"form-group\">\r\n                    <label htmlFor=\"exampleInputPassword1\">cate</label>\r\n                       <select name=\"id_loai\" className=\"form-control input-sm m-bot15\" ref={register(\r\n                         {min:1}\r\n                       )}>\r\n                         <option selected=\"true\" value=\"0\">chọn</option>\r\n                         {loai.map(m=>(<option value={m.id}>{m.name}</option>\r\n))}             \r\n        </select>\r\n      </div>\r\n                <div className=\"text-center\">\r\n                  <button type=\"submit\" className=\"btn btn-sm btn-primary\" name=\"submit\">Lưu</button>\r\n                  <button type=\"reset\" value=\"Reset\" className=\"btn btn-sm btn-primary\">Hủy</button>\r\n                </div>\r\n              </form>\r\n            </div>\r\n          </div></section>\r\n        {/* /.content */}\r\n      </div>        </div>\r\n    )\r\n}\r\nexport default Add\r\n\r\n"]},"metadata":{},"sourceType":"module"}