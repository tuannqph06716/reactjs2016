{"ast":null,"code":"var _jsxFileName = \"D:\\\\react-basic-master\\\\src\\\\pages\\\\views\\\\Admin\\\\Details\\\\index.js\";\nimport React, { useState, useEffect } from 'react';\nimport PropTypes from 'prop-types';\nimport Axios from 'axios';\nimport firebase from '../../../../firebase';\nimport { useForm } from \"react-hook-form\";\n\nconst Details = props => {\n  let id = parseInt(props.match.params.id);\n  const url = \"https://5ea1c7f7b9f5ca00166c2226.mockapi.io/conga/sanpham\";\n  const [pro, setPro] = useState([]);\n  const [loai, setLoai] = useState([]);\n  useEffect(() => {\n    const fetchLoai = async () => {\n      const res = await Axios.get('https://5ea1c7f7b9f5ca00166c2226.mockapi.io/conga/loai');\n      setLoai(res.data);\n    };\n\n    fetchLoai();\n  }, []);\n  useEffect(() => {\n    fetch(url).then(res => res.json()).then(data => {\n      setPro(data);\n    });\n  }, []);\n  const [ga, setGa] = useState([]);\n  const {\n    register,\n    handleSubmit,\n    errors\n  } = useForm();\n\n  const Them = data => {\n    const urlUpdate = url + \"/\" + id;\n    console.log(data.image[0]);\n    let file = data.image[0];\n    console.log(file);\n    let storageRef = firebase.storage().ref(`images/${file.name}`);\n    storageRef.put(file).then(function () {\n      storageRef.getDownloadURL().then(url => {\n        console.log(url); // Tạo object mới chứa toàn bộ thông tin từ input\n\n        const DB = {\n          id: Math.random().toString(36).substr(2, 9),\n          ...data,\n          image: url\n        };\n        setGa(DB);\n        Axios.put(urlUpdate, data).then(res => {\n          console.log(res.data);\n          window.location = \"../\";\n        });\n      });\n    });\n  };\n\n  return /*#__PURE__*/React.createElement(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 55,\n      columnNumber: 3\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"content-wrapper\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 56,\n      columnNumber: 1\n    }\n  }, /*#__PURE__*/React.createElement(\"section\", {\n    className: \"content\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 59,\n      columnNumber: 3\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 60,\n      columnNumber: 7\n    }\n  }, \"Th\\xEAm s\\u1EA3n ph\\u1EA9m\"), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"box row\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 61,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"col-md-6\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 62,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(\"form\", {\n    onSubmit: handleSubmit(Them),\n    encType: \"multipart/form-data\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 63,\n      columnNumber: 9\n    }\n  }, pro.map(pro => {\n    if (pro.id == id) {\n      return /*#__PURE__*/React.createElement(\"div\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 67,\n          columnNumber: 5\n        }\n      }, /*#__PURE__*/React.createElement(\"div\", {\n        className: \"form-group\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 68,\n          columnNumber: 11\n        }\n      }, /*#__PURE__*/React.createElement(\"label\", {\n        htmlFor: \"name\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 69,\n          columnNumber: 13\n        }\n      }, \"name\"), /*#__PURE__*/React.createElement(\"input\", {\n        id: \"name\",\n        type: \"text\",\n        name: \"name\",\n        defaultValue: pro.name,\n        placeholder: \"Nh\\u1EADp t\\xEAn \",\n        className: \"form-control\",\n        ref: register({\n          required: true,\n          minLength: 4\n        }),\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 70,\n          columnNumber: 13\n        }\n      }), errors.name && errors.name.type === \"required\" && /*#__PURE__*/React.createElement(\"div\", {\n        style: {\n          color: 'red'\n        },\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 71,\n          columnNumber: 62\n        }\n      }, \"t\\xEAn kh\\xF4ng \\u0111\\u01B0\\u1EE3c \\u0111\\u1EC3 tr\\u1ED1ng \"), errors.name && errors.name.type === \"minLength\" && /*#__PURE__*/React.createElement(\"div\", {\n        style: {\n          color: 'red'\n        },\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 72,\n          columnNumber: 62\n        }\n      }, \"t\\xEAn \\xEDt nh\\u1EA5t 4 k\\xFD t\\u1EF1 \")), /*#__PURE__*/React.createElement(\"img\", {\n        src: pro.image,\n        width: \"100px\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 74,\n          columnNumber: 11\n        }\n      }), /*#__PURE__*/React.createElement(\"div\", {\n        className: \"form-group\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 75,\n          columnNumber: 13\n        }\n      }, /*#__PURE__*/React.createElement(\"label\", {\n        htmlFor: \"short_detail\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 76,\n          columnNumber: 19\n        }\n      }, \"image\"), /*#__PURE__*/React.createElement(\"div\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 77,\n          columnNumber: 19\n        }\n      }, /*#__PURE__*/React.createElement(\"input\", {\n        className: \"form-control\",\n        type: \"file\",\n        defaultValue: pro.image,\n        id: \"image\",\n        placeholder: \"Nh\\u1EADp \\u1EA3nh\",\n        name: \"image\",\n        ref: register({\n          required: true\n        }),\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 78,\n          columnNumber: 21\n        }\n      }))), /*#__PURE__*/React.createElement(\"div\", {\n        className: \"form-group\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 81,\n          columnNumber: 11\n        }\n      }, /*#__PURE__*/React.createElement(\"label\", {\n        htmlFor: \"short_detail\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 82,\n          columnNumber: 13\n        }\n      }, \"price\"), /*#__PURE__*/React.createElement(\"div\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 83,\n          columnNumber: 13\n        }\n      }, /*#__PURE__*/React.createElement(\"input\", {\n        className: \"form-control\",\n        id: \"price\",\n        defaultValue: pro.price,\n        placeholder: \"Nh\\u1EADp gi\\xE1\",\n        name: \"price\",\n        ref: register({\n          required: true,\n          pattern: /^[+-]?((\\d+(\\.\\d*)?)|(\\.\\d+))$/\n        }),\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 84,\n          columnNumber: 15\n        }\n      }), errors.price && errors.price.type === \"required\" && /*#__PURE__*/React.createElement(\"div\", {\n        style: {\n          color: 'red'\n        },\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 85,\n          columnNumber: 61\n        }\n      }, \"ch\\u01B0a nh\\u1EADp gi\\xE1  \"), errors.price && errors.price.type === \"pattern\" && /*#__PURE__*/React.createElement(\"div\", {\n        style: {\n          color: 'red'\n        },\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 86,\n          columnNumber: 60\n        }\n      }, \"gi\\xE1 ph\\u1EA3i l\\u1EDBn h\\u01A1n 0 \"))), /*#__PURE__*/React.createElement(\"div\", {\n        className: \"form-group\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 90,\n          columnNumber: 11\n        }\n      }, /*#__PURE__*/React.createElement(\"label\", {\n        htmlFor: \"short_detail\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 91,\n          columnNumber: 13\n        }\n      }, \"sale_price\"), /*#__PURE__*/React.createElement(\"div\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 92,\n          columnNumber: 13\n        }\n      }, /*#__PURE__*/React.createElement(\"input\", {\n        className: \"form-control\",\n        id: \"sale_price\",\n        placeholder: \"Nh\\u1EADp gi\\xE1 gi\\u1EA3m\",\n        defaultValue: pro.sale_price,\n        name: \"sale_price\",\n        ref: register({\n          required: true,\n          pattern: /^[+-]?((\\d+(\\.\\d*)?)|(\\.\\d+))$/\n        }),\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 93,\n          columnNumber: 15\n        }\n      }), errors.sale_price && errors.sale_price.type === \"required\" && /*#__PURE__*/React.createElement(\"div\", {\n        style: {\n          color: 'red'\n        },\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 94,\n          columnNumber: 77\n        }\n      }, \"ch\\u01B0a nh\\u1EADp gi\\xE1 gi\\u1EA3m  \"), errors.sale_price && errors.sale_price.type === \"pattern\" && /*#__PURE__*/React.createElement(\"div\", {\n        style: {\n          color: 'red'\n        },\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 95,\n          columnNumber: 74\n        }\n      }, \"gi\\xE1 gi\\u1EA3m ph\\u1EA3i l\\xE0 s\\u1ED1 \"))), /*#__PURE__*/React.createElement(\"div\", {\n        className: \"form-group\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 98,\n          columnNumber: 11\n        }\n      }, /*#__PURE__*/React.createElement(\"label\", {\n        htmlFor: \"short_detail\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 99,\n          columnNumber: 13\n        }\n      }, \"desc\"), /*#__PURE__*/React.createElement(\"div\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 100,\n          columnNumber: 13\n        }\n      }, /*#__PURE__*/React.createElement(\"input\", {\n        type: \"text\",\n        className: \"form-control\",\n        defaultValue: pro.desc,\n        id: \"desc\",\n        placeholder: \"nh\\u1EADp m\\xF4 t\\u1EA3\",\n        name: \"desc\",\n        ref: register({\n          required: true,\n          minLength: 5\n        }),\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 101,\n          columnNumber: 15\n        }\n      }), errors.desc && errors.desc.type === \"required\" && /*#__PURE__*/React.createElement(\"div\", {\n        style: {\n          color: 'red'\n        },\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 102,\n          columnNumber: 65\n        }\n      }, \"ch\\u01B0a nh\\u1EADp m\\xF4 t\\u1EA3\"), errors.desc && errors.desc.type === \"minLength\" && /*#__PURE__*/React.createElement(\"div\", {\n        style: {\n          color: 'red'\n        },\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 103,\n          columnNumber: 66\n        }\n      }, \"\\xEDt nh\\u1EA5t ph\\u1EA3i l\\xE0 5 k\\xFD t\\u1EF1\"))), /*#__PURE__*/React.createElement(\"div\", {\n        className: \"form-group\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 108,\n          columnNumber: 11\n        }\n      }, /*#__PURE__*/React.createElement(\"label\", {\n        htmlFor: \"short_detail\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 109,\n          columnNumber: 13\n        }\n      }, \"title\"), /*#__PURE__*/React.createElement(\"div\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 110,\n          columnNumber: 13\n        }\n      }, /*#__PURE__*/React.createElement(\"input\", {\n        type: \"text\",\n        className: \"form-control\",\n        id: \"title\",\n        defaultValue: pro.title,\n        placeholder: \"nh\\u1EADp title\",\n        name: \"title\",\n        ref: register({\n          required: true,\n          minLength: 5\n        }),\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 111,\n          columnNumber: 15\n        }\n      }), errors.title && errors.title.type === \"required\" && /*#__PURE__*/React.createElement(\"div\", {\n        style: {\n          color: 'red'\n        },\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 112,\n          columnNumber: 67\n        }\n      }, \"ch\\u01B0a nh\\u1EADp title\"), errors.title && errors.title.type === \"minLength\" && /*#__PURE__*/React.createElement(\"div\", {\n        style: {\n          color: 'red'\n        },\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 113,\n          columnNumber: 68\n        }\n      }, \"\\xEDt nh\\u1EA5t ph\\u1EA3i l\\xE0 5 k\\xFD t\\u1EF1\"))), /*#__PURE__*/React.createElement(\"div\", {\n        className: \"form-group\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 116,\n          columnNumber: 11\n        }\n      }, /*#__PURE__*/React.createElement(\"label\", {\n        htmlFor: \"exampleInputPassword1\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 117,\n          columnNumber: 21\n        }\n      }, \"cate\"), /*#__PURE__*/React.createElement(\"select\", {\n        onSelect: pro.id_loai,\n        name: \"id_loai\",\n        className: \"form-control input-sm m-bot15\",\n        ref: register({\n          min: 1\n        }),\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 118,\n          columnNumber: 24\n        }\n      }, loai.map(m => /*#__PURE__*/React.createElement(\"option\", {\n        value: m.id,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 121,\n          columnNumber: 40\n        }\n      }, m.name)))), /*#__PURE__*/React.createElement(\"div\", {\n        className: \"text-center\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 125,\n          columnNumber: 11\n        }\n      }, /*#__PURE__*/React.createElement(\"button\", {\n        type: \"submit\",\n        className: \"btn btn-sm btn-primary\",\n        name: \"submit\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 126,\n          columnNumber: 13\n        }\n      }, \"s\\u1EEDa\"), /*#__PURE__*/React.createElement(\"button\", {\n        type: \"reset\",\n        value: \"Reset\",\n        className: \"btn btn-sm btn-primary\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 127,\n          columnNumber: 13\n        }\n      }, \"H\\u1EE7y\")));\n    }\n  })))))), \"        \");\n};\n\nexport default Details;","map":{"version":3,"sources":["D:/react-basic-master/src/pages/views/Admin/Details/index.js"],"names":["React","useState","useEffect","PropTypes","Axios","firebase","useForm","Details","props","id","parseInt","match","params","url","pro","setPro","loai","setLoai","fetchLoai","res","get","data","fetch","then","json","ga","setGa","register","handleSubmit","errors","Them","urlUpdate","console","log","image","file","storageRef","storage","ref","name","put","getDownloadURL","DB","Math","random","toString","substr","window","location","map","required","minLength","type","color","price","pattern","sale_price","desc","title","id_loai","min","m"],"mappings":"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","sourcesContent":["import React, { useState, useEffect } from 'react';\r\nimport PropTypes from 'prop-types'\r\nimport Axios from 'axios'\r\nimport firebase from '../../../../firebase';\r\n\r\nimport { useForm } from \"react-hook-form\";\r\nconst Details = (props) => {\r\nlet id=parseInt(props.match.params.id);\r\nconst url=\"https://5ea1c7f7b9f5ca00166c2226.mockapi.io/conga/sanpham\";\r\nconst [pro, setPro] = useState([]);\r\nconst[loai,setLoai]=useState([]);\r\n  useEffect(() => {\r\n    const fetchLoai= async()=>{\r\n       const res= await Axios.get('https://5ea1c7f7b9f5ca00166c2226.mockapi.io/conga/loai')\r\n          setLoai(res.data);\r\n  \r\n        };\r\n        fetchLoai();\r\n      },[])\r\nuseEffect(() => {\r\n  fetch(url)\r\n    .then(res => res.json())\r\n    .then((data) => {\r\n      setPro(data);\r\n    })\r\n}, []);\r\nconst [ga,setGa]=useState([])\r\nconst {register, handleSubmit, errors}=useForm();\r\nconst Them=data=>{\r\n  const urlUpdate= url+\"/\"+id;\r\n  console.log(data.image[0]);\r\n  let file=data.image[0]\r\n  console.log(file);\r\n  let storageRef = firebase.storage().ref(`images/${file.name}`);\r\n  storageRef.put(file).then(function () {\r\n    storageRef.getDownloadURL().then((url) => {\r\n        console.log(url);\r\n        // Tạo object mới chứa toàn bộ thông tin từ input\r\n        const DB = {\r\n            id: Math.random().toString(36).substr(2, 9),\r\n            ...data,\r\n            image: url\r\n        }\r\n        setGa(DB);\r\n        Axios.put(urlUpdate, data).then(res=>{\r\n          console.log(res.data)\r\n          window.location=\"../\";\r\n        })\r\n})\r\n})\r\n  \r\n  \r\n}\r\nreturn (\r\n  <div>\r\n<div className=\"content-wrapper\">\r\n  {/* Content Header (Page header) */}\r\n  {/* Main content */}\r\n  <section className=\"content\">\r\n      <div>Thêm sản phẩm</div>\r\n    <div className=\"box row\">\r\n      <div className=\"col-md-6\">\r\n        <form onSubmit={handleSubmit(Them)} encType=\"multipart/form-data\">\r\n        {pro.map(pro=>{\r\nif(pro.id==id){\r\n  return(\r\n    <div>\r\n          <div className=\"form-group\">\r\n            <label htmlFor=\"name\">name</label>\r\n            <input id=\"name\" type=\"text\" name=\"name\" defaultValue={pro.name} placeholder=\"Nhập tên \" className=\"form-control\"  ref={register({required:true, minLength:4})} />\r\n          {errors.name && errors.name.type=== \"required\" && (<div style={{color: 'red'}} >tên không được để trống </div>)}\r\n          {errors.name && errors.name.type===\"minLength\" && (<div style={{color: 'red'}} >tên ít nhất 4 ký tự </div>)}\r\n          </div>\r\n          <img src={pro.image} width=\"100px\"></img>\r\n            <div className=\"form-group\">\r\n                  <label htmlFor=\"short_detail\">image</label>\r\n                  <div>\r\n                    <input className=\"form-control\"type=\"file\" defaultValue={pro.image} id=\"image\" placeholder=\"Nhập ảnh\" name=\"image\" ref={register({required:true})} />\r\n                  </div>\r\n          </div>\r\n          <div className=\"form-group\">\r\n            <label htmlFor=\"short_detail\">price</label>\r\n            <div>\r\n              <input className=\"form-control\" id=\"price\"defaultValue={pro.price} placeholder=\"Nhập giá\" name=\"price\" ref={register({required:true,pattern:/^[+-]?((\\d+(\\.\\d*)?)|(\\.\\d+))$/})} />\r\n          {errors.price && errors.price.type===\"required\"&&(<div style={{color: 'red'}}>chưa nhập giá  </div>)}\r\n          {errors.price && errors.price.type===\"pattern\"&&(<div style={{color: 'red'}}>giá phải lớn hơn 0 </div>)}\r\n\r\n            </div>\r\n          </div>\r\n          <div className=\"form-group\">\r\n            <label htmlFor=\"short_detail\">sale_price</label>\r\n            <div>\r\n              <input className=\"form-control\" id=\"sale_price\" placeholder=\"Nhập giá giảm\" defaultValue={pro.sale_price} name=\"sale_price\"  ref={register({required:true, pattern:/^[+-]?((\\d+(\\.\\d*)?)|(\\.\\d+))$/})} />\r\n              {errors.sale_price && errors.sale_price.type===\"required\" && (<div style={{color: 'red'}} >chưa nhập giá giảm  </div>)}\r\n              {errors.sale_price && errors.sale_price.type===\"pattern\"&&(<div style={{color: 'red'}} >giá giảm phải là số </div>)}\r\n            </div>\r\n          </div>\r\n          <div className=\"form-group\">\r\n            <label htmlFor=\"short_detail\">desc</label>\r\n            <div>\r\n              <input type=\"text\" className=\"form-control\" defaultValue={pro.desc} id=\"desc\" placeholder=\"nhập mô tả\" name=\"desc\" ref={register({required:true,minLength:5})} />\r\n              {errors.desc && errors.desc.type===\"required\" && (<div style={{color: 'red'}} >chưa nhập mô tả</div>)}\r\n              {errors.desc && errors.desc.type===\"minLength\" && (<div style={{color: 'red'}} >ít nhất phải là 5 ký tự</div>)}\r\n\r\n\r\n            </div>   \r\n          </div>\r\n          <div className=\"form-group\">\r\n            <label htmlFor=\"short_detail\">title</label>\r\n            <div>\r\n              <input type=\"text\" className=\"form-control\" id=\"title\" defaultValue={pro.title} placeholder=\"nhập title\" name=\"title\" ref={register({required:true,minLength:5})}  />\r\n              {errors.title && errors.title.type===\"required\" && (<div style={{color: 'red'}} >chưa nhập title</div>)}\r\n              {errors.title && errors.title.type===\"minLength\" && (<div style={{color: 'red'}} >ít nhất phải là 5 ký tự</div>)}\r\n            </div>\r\n          </div>\r\n          <div className=\"form-group\">\r\n                    <label htmlFor=\"exampleInputPassword1\">cate</label>\r\n                       <select onSelect={pro.id_loai} name=\"id_loai\" className=\"form-control input-sm m-bot15\" ref={register(\r\n                         {min:1}\r\n                       )}>\r\n                         {loai.map(m=>(<option value={m.id}>{m.name}</option>\r\n))}             \r\n        </select>\r\n      </div>\r\n          <div className=\"text-center\">\r\n            <button type=\"submit\" className=\"btn btn-sm btn-primary\" name=\"submit\">sửa</button>\r\n            <button type=\"reset\" value=\"Reset\" className=\"btn btn-sm btn-primary\">Hủy</button>\r\n          </div>\r\n          </div>\r\n)}})}\r\n        </form>\r\n      </div>\r\n    </div></section>\r\n  {/* /.content */}\r\n</div>        </div>\r\n)\r\n  }\r\nexport default Details\r\n"]},"metadata":{},"sourceType":"module"}